<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…’ç«¥å½±éŸ³ç¹ªæœ¬è£½ä½œ - è©•é‡èˆ‡åæ€</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif; background-color: #f8fafc; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- å®‰å…¨çš„ React åŸç”Ÿ SVG Icon å…ƒä»¶ ---
        const icons = {
            clapperboard: (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20.2 6 3 11l-.9-2.4c-.3-1.1.4-2.2 1.5-2.5l13.5-4c1.1-.3 2.2.4 2.5 1.5l1 2.6z"/><path d="m2.6 10.4-.9-2.4"/><path d="m5.2 9.6-.9-2.4"/><path d="m7.8 8.7-.9-2.4"/><path d="m10.4 7.9-.9-2.4"/><path d="m13 7.1-.9-2.4"/><path d="m15.6 6.2-.9-2.4"/><path d="m18.2 5.4-.9-2.4"/><path d="m20.8 4.6-.9-2.4"/><path d="M4 11h16v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V11z"/></svg>,
            table: (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><path d="M3 9h18"/><path d="M3 15h18"/><path d="M9 3v18"/><path d="M15 3v18"/></svg>,
            'chevron-up': (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m18 15-6-6-6 6"/></svg>,
            'chevron-down': (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6 9 6 6 6-6"/></svg>,
            'check-circle-2': (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>,
            check: (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 6 9 17l-5-5"/></svg>,
            send: (className) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
        };

        const Icon = ({ name, className = "w-6 h-6" }) => {
            const renderIcon = icons[name];
            return renderIcon ? renderIcon(className) : null;
        };

        // è©•é‡è¡¨å…ƒä»¶
        const Assessment = ({ studentInfo, setStudentInfo }) => {
            const [isPhilosophyOpen, setIsPhilosophyOpen] = useState(true);
            const [submitStatus, setSubmitStatus] = useState({ type: 'idle', message: '' });

            const [scores, setScores] = useState({
                q1: null, q2: null, q3: null, q4: null, q5: null
            });
            const [reflections, setReflections] = useState({
                r1: '', r2: '', r3: '', r4: ''
            });

            // è©•åˆ†æ¨™æº–è³‡æ–™
            const criteria = [
                { id: 'q1', title: '1ï¸âƒ£ æ•…äº‹å‰µä½œæ­·ç¨‹ (20 åˆ†)', options: [
                    { score: 20, label: '16â€“20 åˆ†ï¼šæœ‰è‡ªè¡Œä¿®æ”¹æç¤ºè©ï¼Œæ•…äº‹æœ‰å€‹äººæƒ³æ³•' },
                    { score: 15, label: '11â€“15 åˆ†ï¼šéƒ¨åˆ†ä¿®æ”¹ï¼Œæœ‰åŠ å…¥å°‘é‡å‰µæ„' },
                    { score: 10, label: '6â€“10 åˆ†ï¼šå¤§å¤šä½¿ç”¨è€å¸«æ¨¡æ¿' },
                    { score: 5, label: '0â€“5 åˆ†ï¼šæœªå®Œæˆæˆ–ç›´æ¥è¤‡è£½' }
                ]},
                { id: 'q2', title: '2ï¸âƒ£ ç¹ªæœ¬éŸ³æ¨‚å‰µä½œ (20 åˆ†)', options: [
                    { score: 20, label: '16â€“20 åˆ†ï¼šè‡ªè¡Œèª¿æ•´é¢¨æ ¼ã€BPMã€æ­Œè©' },
                    { score: 15, label: '11â€“15 åˆ†ï¼šæœ‰éƒ¨åˆ†ä¿®æ”¹' },
                    { score: 10, label: '6â€“10 åˆ†ï¼šç›´æ¥ä½¿ç”¨è€å¸«æ¨¡æ¿' },
                    { score: 5, label: '0â€“5 åˆ†ï¼šæœªå®Œæˆ' }
                ]},
                { id: 'q3', title: '3ï¸âƒ£ è§’è‰²ä¸€è‡´æ€§èˆ‡åœ–åƒè¨­è¨ˆ (20 åˆ†)', options: [
                    { score: 20, label: '16â€“20 åˆ†ï¼šè§’è‰²ä¸€è‡´ã€é¢¨æ ¼çµ±ä¸€' },
                    { score: 15, label: '11â€“15 åˆ†ï¼šå¤§è‡´ä¸€è‡´' },
                    { score: 10, label: '6â€“10 åˆ†ï¼šè§’è‰²è®Šå‹•æ˜é¡¯' },
                    { score: 5, label: '0â€“5 åˆ†ï¼šæ··äº‚æˆ–æœªå®Œæˆ' }
                ]},
                { id: 'q4', title: '4ï¸âƒ£ æ•…äº‹å®Œæ•´åº¦ (20 åˆ†)', options: [
                    { score: 20, label: '16â€“20 åˆ†ï¼šæœ‰å®Œæ•´èµ·æ‰¿è½‰åˆ' },
                    { score: 15, label: '11â€“15 åˆ†ï¼šåŸºæœ¬å®Œæ•´' },
                    { score: 10, label: '6â€“10 åˆ†ï¼šéƒ¨åˆ†è·³èº' },
                    { score: 5, label: '0â€“5 åˆ†ï¼šæœªå®Œæˆ' }
                ]},
                { id: 'q5', title: '5ï¸âƒ£ å°ˆé¡Œå®Œæˆåº¦ (20 åˆ†)', options: [
                    { score: 20, label: '16â€“20 åˆ†ï¼šæ•…äº‹ï¼‹éŸ³æ¨‚ï¼‹åœ–åƒå…¨éƒ¨å®Œæˆ' },
                    { score: 15, label: '11â€“15 åˆ†ï¼šç¼º 1 é …' },
                    { score: 10, label: '6â€“10 åˆ†ï¼šç¼º 2 é …ä»¥ä¸Š' },
                    { score: 5, label: '0â€“5 åˆ†ï¼šæœªå®Œæˆ' }
                ]}
            ];

            const handleScoreChange = (id, score) => {
                setScores(prev => ({ ...prev, [id]: score }));
            };

            const handleReflectionChange = (id, text) => {
                setReflections(prev => ({ ...prev, [id]: text }));
            };

            // è¨ˆç®—åˆ†æ•¸èˆ‡ç­‰ç´š
            const totalScore = Object.values(scores).reduce((sum, val) => sum + (val || 0), 0);
            const isAllAssessed = Object.values(scores).every(val => val !== null);
            
            let levelInfo = { text: "è«‹å®Œæˆæ‰€æœ‰è©•åˆ†", color: "text-gray-400", bar: "bg-gray-200" };
            if (isAllAssessed) {
                if (totalScore >= 90) levelInfo = { text: "ğŸŒŸ å‰µæ„é”äºº", color: "text-yellow-500", bar: "bg-yellow-400" };
                else if (totalScore >= 75) levelInfo = { text: "ğŸŒˆ å‹‡æ°£å‰µä½œè€…", color: "text-purple-500", bar: "bg-purple-400" };
                else if (totalScore >= 60) levelInfo = { text: "ğŸŒ± å­¸ç¿’æˆé•·ä¸­", color: "text-green-500", bar: "bg-green-400" };
                else levelInfo = { text: "ğŸ”„ éœ€è¦å†æŒ‘æˆ°", color: "text-red-500", bar: "bg-red-400" };
            }

            // è¨ˆç®—å®Œæˆåº¦ç‹€æ…‹
            const itemsOver11 = Object.values(scores).filter(val => val !== null && val >= 11).length;
            let completionStatus = { text: "ç­‰å¾…è©•åˆ†...", bg: "bg-gray-100", border: "border-gray-200" };
            if (isAllAssessed) {
                if (itemsOver11 === 5) completionStatus = { text: "âœ… å…¨éƒ¨å®Œæˆ", bg: "bg-green-50", border: "border-green-200" };
                else if (itemsOver11 >= 3) completionStatus = { text: "ğŸŸ¡ éƒ¨åˆ†å®Œæˆ", bg: "bg-yellow-50", border: "border-yellow-200" };
                else completionStatus = { text: "ğŸ”´ å°šæœªå®Œæˆ", bg: "bg-red-50", border: "border-red-200" };
            }

            const handleSubmit = async () => {
                if (!studentInfo.className || !studentInfo.seat || !studentInfo.name) {
                    setSubmitStatus({ type: 'error', message: 'âš ï¸ è«‹å¡«å¯«å®Œæ•´çš„ç­ç´šã€åº§è™Ÿèˆ‡å§“åï¼' });
                    return;
                }
                if (!isAllAssessed) {
                    setSubmitStatus({ type: 'error', message: 'âš ï¸ è«‹å®Œæˆä¸Šæ–¹æ‰€æœ‰çš„è©•åˆ†é …ç›®ï¼' });
                    return;
                }
                if (!reflections.r1 || !reflections.r2 || !reflections.r3 || !reflections.r4) {
                    setSubmitStatus({ type: 'error', message: 'âš ï¸ è«‹å¡«å¯«æ‰€æœ‰çš„ã€ŒAI å‰µä½œæ­·ç¨‹åæ€ã€å•é¡Œï¼' });
                    return;
                }

                setSubmitStatus({ type: 'loading', message: 'â³ æ­£åœ¨å‚³é€è³‡æ–™åˆ° Google è©¦ç®—è¡¨...' });

                const payload = {
                    className: studentInfo.className,
                    seat: studentInfo.seat,
                    name: studentInfo.name,
                    q1: scores.q1,
                    q2: scores.q2,
                    q3: scores.q3,
                    q4: scores.q4,
                    q5: scores.q5,
                    totalScore: totalScore,
                    level: levelInfo.text,
                    r1: reflections.r1,
                    r2: reflections.r2,
                    r3: reflections.r3,
                    r4: reflections.r4
                };

                const scriptUrl = 'https://script.google.com/macros/s/AKfycbytPcNUxjKs9E1e-A37G-IUIrxYihxtjHvtVs_i_sE-r2qvixL3xm9QO2r_yBw9Llzk/exec'; 

                try {
                    if (!scriptUrl.startsWith('https://script.google.com/')) {
                        setSubmitStatus({ type: 'error', message: 'âŒ ç³»çµ±è¨­å®šéŒ¯èª¤ï¼šè«‹è€å¸«ç¢ºèªæ˜¯å¦å¡«å…¥ä»¥ https://script.google.com/ é–‹é ­çš„æ­£ç¢º GAS ç¶²å€ï¼' });
                        return;
                    }

                    const response = await fetch(scriptUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    
                    if (result.status === 'success') {
                        setSubmitStatus({ type: 'success', message: 'âœ… è³‡æ–™å·²æˆåŠŸé€å‡ºï¼ä½ å¯ä»¥é»æ“Šä¸‹æ–¹æŒ‰éˆ•æŸ¥çœ‹å…¨ç­æˆç¸¾ã€‚' });
                    } else {
                        setSubmitStatus({ type: 'error', message: `âŒ å‚³é€å¤±æ•—ï¼š${result.message}` });
                    }
                } catch (error) {
                    setSubmitStatus({ type: 'error', message: `âŒ é€£ç·šç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚` });
                }
            };

            return (
                <div className="max-w-4xl mx-auto py-8 space-y-8 animate-fade-in">
                    
                    {/* ç¬¬é›¶å€ï¼šåŸºæœ¬è³‡æ–™ */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 mb-8 mt-4">
                        <h3 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                            ğŸ‘¤ å­¸ç”ŸåŸºæœ¬è³‡æ–™
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">ç­ç´š</label>
                                <select 
                                    value={studentInfo.className}
                                    onChange={(e) => setStudentInfo({...studentInfo, className: e.target.value})}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow"
                                >
                                    <option value="">è«‹é¸æ“‡ç­ç´š</option>
                                    {['901', '902', '903', '904', '905', '906'].map(cls => (
                                        <option key={cls} value={cls}>{cls} ç­</option>
                                    ))}
                                </select>
                            </div>
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">åº§è™Ÿ</label>
                                <input 
                                    type="number" min="1" max="50"
                                    value={studentInfo.seat}
                                    onChange={(e) => setStudentInfo({...studentInfo, seat: e.target.value})}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow"
                                    placeholder="ä¾‹å¦‚ï¼š5"
                                />
                            </div>
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">å§“å</label>
                                <input 
                                    type="text"
                                    value={studentInfo.name}
                                    onChange={(e) => setStudentInfo({...studentInfo, name: e.target.value})}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-shadow"
                                    placeholder="è«‹è¼¸å…¥çœŸå¯¦å§“å"
                                />
                            </div>
                        </div>
                    </div>

                    {/* ç¬¬ä¸€å€ï¼šè©•é‡ç†å¿µèªªæ˜ */}
                    <div className="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                        <button 
                            onClick={() => setIsPhilosophyOpen(!isPhilosophyOpen)}
                            className="w-full px-6 py-4 flex justify-between items-center bg-indigo-50 hover:bg-indigo-100 transition-colors"
                        >
                            <h3 className="text-xl font-bold text-indigo-800 flex items-center gap-2">
                                ğŸŒ± ç‚ºä»€éº¼æˆ‘å€‘è¦é€™æ¨£è©•é‡ï¼Ÿ
                            </h3>
                            <Icon name={isPhilosophyOpen ? "chevron-up" : "chevron-down"} className="text-indigo-600 w-6 h-6" />
                        </button>
                        
                        {isPhilosophyOpen && (
                            <div className="p-6 text-gray-700 leading-relaxed border-t border-indigo-100">
                                <p className="mb-4">æœ¬èª²ç¨‹è©•é‡é‡é»ä¸åªåœ¨ã€Œä½œå“å¥½ä¸å¥½çœ‹ã€ï¼Œ<br/>
                                è€Œæ˜¯ä½ æ˜¯å¦ç†è§£ AI çš„ä½¿ç”¨æ–¹å¼ã€æ˜¯å¦æœ‰ä¿®æ”¹èˆ‡æ€è€ƒã€<br/>
                                æ˜¯å¦çœŸæ­£åƒèˆ‡å‰µä½œéç¨‹ã€‚</p>
                                
                                <ul className="space-y-2 mb-6 bg-white p-4 rounded-xl border border-gray-100">
                                    <li className="flex items-center gap-2"><Icon name="check-circle-2" className="text-green-500 w-5 h-5" /> å¯ä»¥ä½¿ç”¨ AI</li>
                                    <li className="flex items-center gap-2"><Icon name="check-circle-2" className="text-green-500 w-5 h-5" /> ä½†ä¸èƒ½åªæ˜¯è¤‡è£½è²¼ä¸Š</li>
                                    <li className="flex items-center gap-2"><Icon name="check-circle-2" className="text-green-500 w-5 h-5" /> é‡é»æ˜¯ä¿®æ”¹ã€æ€è€ƒèˆ‡å‰µé€ </li>
                                </ul>

                                <div className="bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-4 rounded-xl font-medium text-center shadow-inner">
                                    æˆ‘å€‘é‡è¦–çš„æ˜¯ï¼šä½ çš„æƒ³æ³• ğŸ’¡ ä½ çš„æ”¹è®Š ğŸ”„ ä½ çš„æˆé•· ğŸ“ˆ
                                </div>
                            </div>
                        )}
                    </div>

                    {/* ç¬¬äºŒå€ï¼šè©•é‡é¢å‘ */}
                    <div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                            ğŸ“– ç¬¬äºŒå€ï¼šè©•é‡é¢å‘ <span className="text-sm font-normal text-gray-500">(è«‹é»é¸ç¬¦åˆçš„æè¿°)</span>
                        </h3>
                        <div className="space-y-6">
                            {criteria.map((item) => (
                                <div key={item.id} className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                                    <h4 className="text-lg font-bold text-gray-700 mb-4">{item.title}</h4>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                                        {item.options.map((opt, index) => (
                                            <button
                                                key={index}
                                                onClick={() => handleScoreChange(item.id, opt.score)}
                                                className={`text-left p-4 rounded-xl border-2 transition-all duration-200 flex items-start gap-3
                                                    ${scores[item.id] === opt.score 
                                                        ? 'border-blue-500 bg-blue-50 shadow-md transform scale-[1.01]' 
                                                        : 'border-gray-100 hover:border-blue-200 hover:bg-gray-50'}`}
                                            >
                                                <div className={`w-5 h-5 mt-0.5 rounded-sm flex items-center justify-center flex-shrink-0 border 
                                                    ${scores[item.id] === opt.score ? 'bg-blue-500 border-blue-500 text-white' : 'border-gray-300'}`}>
                                                    {scores[item.id] === opt.score && <Icon name="check" className="w-4 h-4" />}
                                                </div>
                                                <span className={scores[item.id] === opt.score ? 'font-medium text-blue-900' : 'text-gray-600'}>
                                                    {opt.label}
                                                </span>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* ç¬¬ä¸‰å€ & ç¬¬äº”å€ (ä¸¦æ’é¡¯ç¤º) */}
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {/* ç¬¬ä¸‰å€ï¼šè‡ªå‹•è¨ˆç®—ç¸½åˆ† */}
                        <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-center">
                            <h3 className="text-lg font-bold text-gray-800 mb-4">ğŸ“ˆ ç¬¬ä¸‰å€ï¼šè‡ªå‹•è¨ˆç®—ç¸½åˆ†</h3>
                            <div className="flex items-end gap-4 mb-4">
                                <span className="text-5xl font-black text-gray-800">{totalScore}</span>
                                <span className="text-gray-500 mb-1">/ 100 åˆ†</span>
                            </div>
                            
                            <div className="w-full bg-gray-100 rounded-full h-3 mb-2 overflow-hidden">
                                <div 
                                    className={`h-3 transition-all duration-700 rounded-full ${levelInfo.bar}`} 
                                    style={{ width: `${Math.min(totalScore, 100)}%` }}
                                ></div>
                            </div>
                            
                            <div className="flex justify-between items-center mt-2">
                                <span className="text-sm text-gray-500">ç•¶å‰ç­‰ç´šï¼š</span>
                                <span className={`text-xl font-bold ${levelInfo.color}`}>{levelInfo.text}</span>
                            </div>
                        </div>

                        {/* ç¬¬äº”å€ï¼šå®Œæˆåº¦ç‹€æ…‹ */}
                        <div className={`p-6 rounded-2xl shadow-sm border ${completionStatus.border} ${completionStatus.bg} flex flex-col justify-center items-center text-center transition-colors duration-300`}>
                            <h3 className="text-lg font-bold text-gray-800 mb-4 w-full text-left">ğŸ§© ç¬¬äº”å€ï¼šå®Œæˆåº¦ç‹€æ…‹</h3>
                            <div className="flex-grow flex flex-col items-center justify-center py-4">
                                <div className="text-3xl font-bold mb-2">{completionStatus.text}</div>
                                {isAllAssessed ? (
                                    <p className="text-sm text-gray-600 mt-2">
                                        (å…± {itemsOver11} é …æŒ‡æ¨™é” 11 åˆ†ä»¥ä¸Š)
                                    </p>
                                ) : (
                                    <p className="text-sm text-gray-500 mt-2">è«‹å®Œæˆä¸Šæ–¹æ‰€æœ‰è©•åˆ†ä»¥æŸ¥çœ‹ç‹€æ…‹</p>
                                )}
                            </div>
                        </div>
                    </div>

                    {/* ç¬¬å››å€ï¼šAI ä½¿ç”¨åæ€ */}
                    <div className="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 className="text-2xl font-bold text-gray-800 mb-2 flex items-center gap-2">
                            ğŸª ç¬¬å››å€ï¼šAI ä½¿ç”¨åæ€
                        </h3>
                        <p className="text-gray-500 mb-6 text-sm">ğŸ¤– æˆ‘çš„ AI å‰µä½œæ­·ç¨‹ (å¿…å¡«)</p>
                        
                        <div className="space-y-5">
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">1. æˆ‘ä¿®æ”¹äº†å“ªäº›æç¤ºè©ï¼Ÿ</label>
                                <textarea 
                                    value={reflections.r1}
                                    onChange={(e) => handleReflectionChange('r1', e.target.value)}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none" 
                                    rows="3" 
                                    placeholder="ä¾‹å¦‚ï¼šæˆ‘æŠŠåŸæœ¬çš„ã€Œå°ç‹—ã€æ”¹æˆäº†ã€Œæˆ´è‘—ç´…è‰²å¸½å­çš„é»ƒé‡‘çµçŠ¬ã€..."
                                ></textarea>
                            </div>
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">2. æˆ‘ç‚ºä»€éº¼é€™æ¨£ä¿®æ”¹ï¼Ÿ</label>
                                <textarea 
                                    value={reflections.r2}
                                    onChange={(e) => handleReflectionChange('r2', e.target.value)}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none" 
                                    rows="3"
                                    placeholder="å› ç‚ºæˆ‘æƒ³è®“ä¸»è§’çœ‹èµ·ä¾†æ›´å‹‡æ•¢ã€æ›´æœ‰ç‰¹è‰²..."
                                ></textarea>
                            </div>
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">3. AI å¹«åŠ©æˆ‘ä»€éº¼ï¼Ÿ</label>
                                <textarea 
                                    value={reflections.r3}
                                    onChange={(e) => handleReflectionChange('r3', e.target.value)}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none" 
                                    rows="3"
                                    placeholder="AI å¹«æˆ‘æŠŠè…¦ä¸­çš„ç•«é¢ç•«å‡ºä¾†ï¼Œé‚„å¹«æˆ‘é…äº†é©åˆçš„éŸ³æ¨‚..."
                                ></textarea>
                            </div>
                            <div>
                                <label className="block text-gray-700 font-medium mb-2">4. å“ªä¸€é æ˜¯æˆ‘æœ€æ»¿æ„çš„ï¼Ÿç‚ºä»€éº¼ï¼Ÿ</label>
                                <textarea 
                                    value={reflections.r4}
                                    onChange={(e) => handleReflectionChange('r4', e.target.value)}
                                    className="w-full p-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none" 
                                    rows="3"
                                    placeholder="æˆ‘æœ€å–œæ­¡ç¬¬3é ï¼Œå› ç‚ºé‚£ä¸€é çš„å…‰å½±æ•ˆæœæœ€æ£’ï¼Œè§’è‰²è¡¨æƒ…å¾ˆç”Ÿå‹•..."
                                ></textarea>
                            </div>
                        </div>
                    </div>
                    
                    {/* é€å‡ºèˆ‡é€£çµæŒ‰éˆ•å€ */}
                    <div className="flex flex-col items-center gap-6 pb-8 pt-4">
                        {/* ç‹€æ…‹è¨Šæ¯æç¤º */}
                        {submitStatus.message && (
                            <div className={`px-6 py-3 rounded-xl font-bold text-center w-full max-w-2xl ${
                                submitStatus.type === 'error' ? 'bg-red-100 text-red-700 border border-red-200' : 
                                submitStatus.type === 'success' ? 'bg-green-100 text-green-700 border border-green-200' : 
                                'bg-blue-100 text-blue-700 border border-blue-200'
                            }`}>
                                {submitStatus.message}
                            </div>
                        )}

                        <div className="flex flex-wrap justify-center gap-4">
                            <button 
                                onClick={handleSubmit}
                                disabled={submitStatus.type === 'loading'}
                                className="flex items-center gap-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-10 py-4 rounded-full font-bold text-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"
                            >
                                <Icon name="send" className="w-5 h-5" />
                                {submitStatus.type === 'loading' ? 'è³‡æ–™é€å‡ºä¸­...' : 'é€å‡ºè©•é‡èˆ‡åæ€'}
                            </button>
                            
                            <a 
                                href="https://docs.google.com/spreadsheets/d/16brhvj-t_dIUYJHX1vZHapv-ATS6x7k1VM4nDITuS-w/edit?usp=sharing" 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="flex items-center gap-2 bg-white text-emerald-600 border-2 border-emerald-500 px-8 py-4 rounded-full font-bold text-lg shadow-md hover:bg-emerald-50 hover:scale-105 transition-all"
                            >
                                <Icon name="table" className="w-5 h-5" /> 
                                æŸ¥çœ‹å…¨ç­æˆç¸¾è¡¨
                            </a>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [studentInfo, setStudentInfo] = useState({
                className: '', seat: '', name: ''
            });

            return (
                <div className="min-h-screen flex flex-col text-gray-800">
                    {/* é ‚éƒ¨å°è¦½åˆ— (å·²ç§»é™¤åˆ‡æ›æŒ‰éˆ•ï¼Œåƒ…ä¿ç•™æ¨™é¡Œ) */}
                    <header className="bg-white shadow-sm sticky top-0 z-50">
                        <div className="container mx-auto px-6 h-16 flex items-center justify-between">
                            <div className="flex items-center gap-2 text-blue-600 font-bold text-xl">
                                <Icon name="clapperboard" className="w-6 h-6" />
                                <span>ç«¥å‰µå½±éŸ³å·¥ä½œå®¤ - è©•é‡èˆ‡åæ€</span>
                            </div>
                        </div>
                    </header>

                    {/* ä¸»è¦å…§å®¹å€ */}
                    <main className="flex-grow container mx-auto px-6">
                        <Assessment studentInfo={studentInfo} setStudentInfo={setStudentInfo} />
                    </main>

                    {/* é å°¾å€å¡Š */}
                    <footer className="text-center py-10 bg-white border-t border-gray-200 mt-auto">
                        <div className="text-gray-500">&copy; 2026 åœ‹ä¹å½ˆæ€§èª²ç¨‹å…’ç«¥å½±éŸ³ç¹ªæœ¬è£½ä½œæ•™æ | Designed for Kids & Parents</div>
                        <div className="mt-2 text-gray-800 font-semibold tracking-wide">è‡ºåŒ—å¸‚ç«‹é™½æ˜é«˜ä¸­åœ‹ä¸­éƒ¨ é™³æ”¿å·è€å¸«è¨­è¨ˆ</div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
